<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Sapo - Loop Infinito</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
    body {
        margin: 0;
        background: black;
        overflow: hidden;
    }

    canvas {
        display: block;
        margin: auto;
        background: black;
    }
</style>
</head>

<body>

<canvas id="game" width="800" height="600"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

const LARGURA = 800;
const ALTURA = 600;
const FPS = 30;

// ================== SPRITES ==================
const sprites = [];
for (let i = 1; i <= 10; i++) {
    const img = new Image();
    img.src = `attack_${i}.png`;
    sprites.push(img);
}

// ================== SAPO ==================
class Sapo {
    constructor() {
        this.sprites = sprites;
        this.atual = 0;

        this.x = 100;
        this.y = 100;

        this.scale = 3;
        this.largura = 128 * this.scale;
        this.altura = 64 * this.scale;
    }

    update() {
        this.atual += 0.5;

        if (this.atual >= this.sprites.length) {
            this.atual = 0;
        }
    }

    draw() {
        const frame = Math.floor(this.atual);
        ctx.drawImage(
            this.sprites[frame],
            this.x,
            this.y,
            this.largura,
            this.altura
        );
    }
}

const sapo = new Sapo();

// ================== GAME LOOP ==================
let lastTime = 0;
const intervalo = 1000 / FPS;

function loop(time) {
    if (time - lastTime >= intervalo) {
        lastTime = time;

        ctx.clearRect(0, 0, LARGURA, ALTURA);

        sapo.update();
        sapo.draw();
    }

    requestAnimationFrame(loop);
}

requestAnimationFrame(loop);
</script>

</body>
</html>